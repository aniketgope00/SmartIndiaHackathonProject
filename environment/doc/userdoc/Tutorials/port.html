<!--
MkDocs version : 1.5.2
Build Date UTC : 07 May 2024 06:14:13
Last edit: 18 March 2024
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:image" content="../images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Tutorials/port.html">
        <link rel="shortcut icon" href="../images/favicon.ico">
        <title>Port Tutorial - SUMO Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="../images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-3.7.0.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
            <div class="container-fluid">
                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../index.html" class="nav-link">Documentation</a>
                            </li>
                            <li class="navitem">
                                <a href="index.html" class="nav-link">Tutorials</a>
                            </li>
                            <li class="navitem">
                                <a href="../FAQ.html" class="nav-link">FAQ</a>
                            </li>
                            <li class="navitem">
                                <a href="../Downloads.html" class="nav-link">Downloads</a>
                            </li>
                            <li class="navitem">
                                <a href="../Publications.html" class="nav-link">Publications</a>
                            </li>
                            <li class="navitem">
                                <a href="../Developer/index.html" class="nav-link">Developer</a>
                            </li>
                            <li class="navitem">
                                <a href="../ChangeLog.html" class="nav-link">ChangeLog</a>
                            </li>
                            <li class="navitem">
                                <a href="https://eclipse.dev/sumo/contact/" class="nav-link">Contact</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa-solid fa-magnifying-glass"></i> <u>S</u>earch
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="edit" href="https://github.com/eclipse-sumo/sumo/edit/main/docs/web/docs/Tutorials/port.md" class="nav-link"><i class="fa-brands fa-github"></i> <u>E</u>dit on GitHub</a>
                            </li>
                      <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                            More <i class="fa-solid fa-circle-chevron-down"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                            <a class="dropdown-item" href="../Editing_Articles.html">Help on editing articles</a>
                            <a class="dropdown-item" href="https://github.com/eclipse/sumo/commits/main/docs/web">Recent documentation changes</a>
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                            <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                            <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                              <input type="checkbox" id="checkbox_theme">
                          </label></span>
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="languagedrop" data-toggle="dropdown">
                            <i class="fa-solid fa-language"></i> Languages <i class="fa-solid fa-circle-chevron-down"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <span class="dropdown-item">
                              Translations are generated automatically by Google Translate:
                            </span>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tutorials/port.html?_x_tr_sl=en&_x_tr_tl=de">Deutsch</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tutorials/port.html?_x_tr_sl=en&_x_tr_tl=es">Español</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tutorials/port.html?_x_tr_sl=en&_x_tr_tl=fr">Français</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tutorials/port.html?_x_tr_sl=en&_x_tr_tl=it">Italiano</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tutorials/port.html?_x_tr_sl=en&_x_tr_tl=hu">Magyar</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tutorials/port.html?_x_tr_sl=en&_x_tr_tl=tr">Türkçe</a>
                          </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="../index.html" style="display: inline-block; margin-top: 5px;"><img src="../images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa-solid fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#introduction">Introduction</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#useful_links" class="nav-link">• Useful links</a>
                </li>
            <li class="nav-item main"><a href="#create_a_simple_port_simulation">Create a simple port simulation</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#osmwebwizard" class="nav-link">• osmWebWizard</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#network_generation" class="nav-link">&rarr; Network Generation</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#demand_generation" class="nav-link">&rarr; Demand Generation</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#network_editing" class="nav-link">• Network editing</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#netedit" class="nav-link">&rarr; Netedit:</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#1_shorten_the_waterways_so_that_only_the_originally_selected_area_remains" class="nav-link">&rarr; 1) Shorten the waterways, so that only the originally selected area remains.</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#2_delete_everything_that_is_superfluous" class="nav-link">&rarr; 2) Delete everything that is superfluous</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#3_add_the_missing_connections_between_the_piers_and_the_waterways" class="nav-link">&rarr; 3) Add the missing connections between the piers and the waterways</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#4_change_road_vclasses_at_the_port_area" class="nav-link">&rarr; 4) Change road vClasses at the port area</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#5_train_tracks" class="nav-link">&rarr; 5) Train Tracks</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#6_create_bus_stops_and_container_stops" class="nav-link">&rarr; 6) Create bus stops and container stops</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#demand" class="nav-link">• Demand</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#demand_editing" class="nav-link">&rarr; Demand editing</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#create_a_demand_file" class="nav-link">&rarr; Create a demand file</a>
                </li>
            <li class="nav-item main"><a href="#examples">Examples</a></li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a class="no-arrow-link" href="https://eclipse.dev/sumo">eclipse.dev/sumo</a></p>
    </div>

</div>
                </div>
                <div class="col-md-9 main-area" role="main">
                   <!-- page.is_homepage seems to be broken in Mkdocs > 1.1.0 -->
                  <ul class="breadcrumbs">
    <script>
        var pagePath = "/docs/Tutorials/port.html";
        var splitUrl = pagePath.split("/");
        splitUrl.pop();
        splitUrl.shift();
        if (splitUrl[0] == 'docs') splitUrl.shift();
        var homeLink = "../index.html";
        document.write('<li class="breadcrumb-item"><a href="' + homeLink + '"><i class="fa-solid fa-house"></i></a></li>');
        var prev = '';

        var dirLink = splitUrl.map(function (el) {
        el = prev + el; prev = el + '/'; return el;
        });

        for (let i = 0; i < splitUrl.length; i++) {
            document.write("<li class=\"breadcrumb-item\"><a class=\"no-arrow-link\" href=\"../" + dirLink[i] + "\">" + splitUrl[i] + "</a></li>");
        }
    </script>
    <li class="breadcrumb-item active">Port Tutorial</li>
</ul>
                  <hTitles>Port Tutorial<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<h1 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">#</a></h1>
<p>This tutorial shows how to create a simple port simulation with the help of the osmWebWizard. This tutorial includes the following steps:</p>
<ul>
<li>Starting with osmWebWizard.py</li>
<li>Revision and adaptation of the road network with netedit</li>
<li>Agent data and how to find them<ul>
<li>Passenger / Bus</li>
<li>Container</li>
<li>Trucks, RoRo</li>
<li>Vessels</li>
</ul>
</li>
<li>Examples</li>
</ul>
<h2 id="useful_links">Useful links<a class="headerlink" href="#useful_links" title="Permanent link">#</a></h2>
<ul>
<li><a href="index.html">Tutorials</a></li>
</ul>
<p>Documentation:</p>
<ul>
<li><a href="OSMWebWizard.html">osmWebWizard.py</a></li>
<li><a href="../Simulation/Public_Transport.html#public_transport_schedules">Public Transport Schedules</a></li>
<li><a href="../Specification/Persons.html">Person</a></li>
<li><a href="../TraCI/Vehicle_Value_Retrieval.html">Vehicle</a></li>
<li><a href="../Specification/Containers.html">Container</a></li>
<li><a href="../TraCI/Polygon_Value_Retrieval.html">Polygon</a></li>
</ul>
<h1 id="create_a_simple_port_simulation">Create a simple port simulation<a class="headerlink" href="#create_a_simple_port_simulation" title="Permanent link">#</a></h1>
<h2 id="osmwebwizard">osmWebWizard<a class="headerlink" href="#osmwebwizard" title="Permanent link">#</a></h2>
<p>Open the osmWebWizard.py</p>
<pre class="codehilite"><code>python &lt;SUMO_HOME&gt;/tools/osmWebWizard.py
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All files that make up the scenario are created in a subfolder of the working directory with the current timestamp (e.g. <SUMO_HOME>/tools/2021-02-22-10-00-00/). If you edit the network, you can use the script <code>build.bat</code> to rebuild the random demand.</p>
</div>
<p>A browser window will open. On the left side, you see the map and on the right side, you can find your position and some options. First, navigate through the map to find the right port.
<img src="../images/tutorialport1.png" width="100%"></p>
<p>In our case it is the Skandinavienkai of the Port Lübeck, Germany. Here, there are ferries (passenger transport) and cargo vessels (container transport).</p>
<p><img src="../images/tutorialport2.png" width="100%"></p>
<h3 id="network_generation">Network Generation<a class="headerlink" href="#network_generation" title="Permanent link">#</a></h3>
<p>Now take a look at the right side. You can choose the whole area visible on the screen or select an area by choosing the option <code>Select Area</code>.
Also select the <code>Add Polygons</code> and <code>Import Public Transport</code> options to put this information directly from OSM to our network.</p>
<h3 id="demand_generation">Demand Generation<a class="headerlink" href="#demand_generation" title="Permanent link">#</a></h3>
<p>The demand is defined by the demand generation panel. You can activate this panel by clicking on the car pictogram. Here you can choose every agent you need at your port area. If you have any special port vehicles like crane or stapler, you can not create them here. Ideas for possible implementations are described a little further below.
The OSM Web Wizard generates random demand, for more information see the documentation of the <a href="OSMWebWizard.html">osmWebWizard</a>.</p>
<p>For our scenario we choose <code>cars</code>, <code>trucks</code>, <code>pedestrians</code>, <code>trains</code>, and of course <code>ships</code>.</p>
<p><img src="../images/tutorialport3.png" width="100%"></p>
<p>After you chose all the agents you need press the <code>Generate Scenario</code> button.</p>
<p>The complete scenario is generated automatically. The scenario generation takes a couple of seconds or minutes (depending, among other factors, on the size of the scenario). Once the scenario generation process has finished, the sumo-gui starts and the simulation can be started by pressing the Play button.</p>
<p>Here is our scenario! But it looks a little strange because the waterways are very large, so we first have to zoom in to find the port (somewhere in the south).</p>
<p><img src="../images/tutorialport4.png" width="100%"></p>
<p>This is our port: (With additional polygons to get a better overview of the port.)</p>
<p><img src="../images/tutorialport5.png" width="100%"></p>
<p>But as you can see, not all piers are connected to the waterways and if you take a closer look you will find more things to fix. So let´s open netedit to correct the network.</p>
<p><img src="../images/tutorialport6.png" width="100%"></p>
<h2 id="network_editing">Network editing<a class="headerlink" href="#network_editing" title="Permanent link">#</a></h2>
<p>Now we open <a href="../Netedit/index.html">netedit</a> to correct these parts. You can open it from sumo-gui with the shortcut <code>Ctrl + T</code>.</p>
<h3 id="netedit">Netedit:<a class="headerlink" href="#netedit" title="Permanent link">#</a></h3>
<p><img src="../images/tutorialport8.png" width="100%"></p>
<h3 id="1_shorten_the_waterways_so_that_only_the_originally_selected_area_remains">1) Shorten the waterways, so that only the originally selected area remains.<a class="headerlink" href="#1_shorten_the_waterways_so_that_only_the_originally_selected_area_remains" title="Permanent link">#</a></h3>
<p>Use the inspect mode (<code>I</code>): Locate the waterways that extend beyond the area and separate these edges in both directions into an appropriate part at the port and a part that can be deleted. To do so, right click on the edge at the position where the edge should be separated.</p>
<p><kbd><img src="../images/tutorialport9.png" width="600"></kbd></p>
<p>Use the select mode (<code>S</code>):  Select the waterways far from the port and delete them.</p>
<table><tr>
    <td>Before</td>
    <td>After</td>
</tr><tr>
    <td><img title="Before" alt="net before cutting the waterways" src="../images/tutorialport10.png" width="100%"></td>
    <td><img title="after" alt="net after cutting and deleting the waterways" src="../images/tutorialport11.png" width="100%"></td>
</tr></table>

<h3 id="2_delete_everything_that_is_superfluous">2) Delete everything that is superfluous<a class="headerlink" href="#2_delete_everything_that_is_superfluous" title="Permanent link">#</a></h3>
<p>Use the select mode (<code>S</code>): Select all superfluous edges and delete them.</p>
<table><tr>
    <td>Before</td>
    <td>After</td>
</tr><tr>
    <td><img src="../images/tutorialport12.png" width="500"></td>
    <td><img src="../images/tutorialport13.png" width="500"></td>
</tr></table>

<h3 id="3_add_the_missing_connections_between_the_piers_and_the_waterways">3) Add the missing connections between the piers and the waterways<a class="headerlink" href="#3_add_the_missing_connections_between_the_piers_and_the_waterways" title="Permanent link">#</a></h3>
<p>Use the inspect mode (<code>I</code>): Split the waterway edge in both directions at the position where you want to add the connection to the pier.</p>
<p><kbd><img src="../images/tutorialport14.png" width="500"></kbd></p>
<p>Use the edge mode (<code>E</code>): Connect the pier with the waterway edge (twoway road).</p>
<p><kbd><img src="../images/tutorialport15.png" width="500"></kbd></p>
<p>Use the inspect mode (<code>I</code>): Select the new edge and set <code>allow = ship</code></p>
<h3 id="4_change_road_vclasses_at_the_port_area">4) Change road vClasses at the port area<a class="headerlink" href="#4_change_road_vclasses_at_the_port_area" title="Permanent link">#</a></h3>
<p>Here is our main port area.</p>
<p><kbd><img src="../images/tutorialport16.png" width="1000"></kbd></p>
<p>If you have a look at the "allow"-parameter for the edges, you will see that they have different allowed vClasses. We prefer to have the same allowed vClasses for all edges (trucks, passenger car, pedestrian, delivery, taxi and bus)</p>
<p>Use the select mode (<code>S</code>): Select all roads (except the train tracks).</p>
<p>Use the inspect mode (<code>I</code>): Open the allow option on the left side and change the allowed vClasses.</p>
<p><img src="../images/tutorialport18.png" width="1000"></p>
<h3 id="5_train_tracks">5) Train Tracks<a class="headerlink" href="#5_train_tracks" title="Permanent link">#</a></h3>
<p>The train tracks imported by the osmWebWizard from OSM just have one direction.
Use netedit or netconvert to add bidirectional tracks.</p>
<h4 id="netconvert">Netconvert:<a class="headerlink" href="#netconvert" title="Permanent link">#</a></h4>
<p>Use netconvert with option <a href="../Simulation/Railways.html#handling_problems_in_bidirectional_railway_networks"><code>railway.topology.all-bidi</code></a></p>
<p>or</p>
<h4 id="netedit_1">Netedit:<a class="headerlink" href="#netedit_1" title="Permanent link">#</a></h4>
<p>Use the select mode (<code>S</code>): Select all train tracks.</p>
<p>Use the inspect mode (<code>I</code>): Right click on a track, -&gt; <strong>edge operations</strong> -&gt; <strong>add reverse direction for edge</strong></p>
<p>Use the connection mode (<code>C</code>): Check and adapt the connections between the tracks (maybe it is easier to control if all tracks have the spread type <code>right</code> instead of <code>center</code>).</p>
<h3 id="6_create_bus_stops_and_container_stops">6) Create bus stops and container stops<a class="headerlink" href="#6_create_bus_stops_and_container_stops" title="Permanent link">#</a></h3>
<p>Use netedit with the additional mode (<code>A</code>).
Select <code>busStop</code> or <code>containerStop</code> and define a name. Then place the stop at an edge.</p>
<p><img src="../images/tutorialport19.png" width="100%"></p>
<p>After adding all needed stops save them as an additional file (e.g. stops.add.xml).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If an agent shall go to a stop with an edge with no permission, you can use access lanes for the stop.
For more information see <a href="../Simulation/Public_Transport.html#access_lanes">public transport</a>.</p>
</div>
<p>These are the stops for our scenario: (H=busStop, C=containerStop)</p>
<p><img src="../images/tutorialport20.png" width="100%"></p>
<p>If the network is now correct, save the network. Run the file <code>build.bat</code> at the scenario folder (for us: <SUMO_HOME>/tools/2021-02-22-10-00-00/ ) to create a new demand suitable for the customized network. You can run the file <code>run.bat</code> to restart the simulation.</p>
<p><img src="../images/tutorialport21.png" width="100%"></p>
<p>Here you can see that in our scenario there are far too many ships. So it is time to have a deeper look into the demand.</p>
<h2 id="demand">Demand<a class="headerlink" href="#demand" title="Permanent link">#</a></h2>
<p>Before we edit the demand, it would be a good idea to bring together some information about it. If you are in luck, you get this data directly from the port. Otherwise, there are also some ways to get approximate values. For the ships it is possible to look for data from the automatic identification system (AIS). There are a lot of free sources and you get information about the ships and their movements. Often you can find information about the port from the ports website and from the local logistics companies. Information about passenger transport can be retrieved from OpenStreetMap and local public transport and ferry companies.</p>
<h3 id="demand_editing">Demand editing<a class="headerlink" href="#demand_editing" title="Permanent link">#</a></h3>
<p>If you just want to have a very simple scenario (without containers) then you just change the <code>Through Traffic Factor</code> and <code>count</code> within the file <code>build.bat</code> and generate a better simple demand. For more information see the <a href="OSMWebWizard.html">osmWebWizard</a>.</p>
<p>If you want a more complex scenario delete the generated demand, first. :-)</p>
<p>In this tutorial we simulate one hour with one container ship, one passenger ship, one train and a lot of trucks, cars, containers and passengers. We also need a bus for the passengers, because at this port there is no connection between the passenger terminal and the piers. For the container movements we need some kind of trailer/ stapler to move the container from the train station to the pier.</p>
<p>Here is the list of all Agents we want to insert:</p>
<pre class="codehilite"><code class="language-text">1 passenger ship with:
    20 passenger cars: arrive per ship and go to the passenger terminal
    20 passenger cars: start at the passenger terminal and go to the ship
    20 pedestrians: arrive per ship and go to the passenger terminal
    20 pedestrians: start at the passenger terminal and go to the ship

1 container ship with:
    25 trucks: from train to ship
    25 trucks: from ship to train

1 train with:
    15 containers: from train to ship
    15 containers: from ship to train

1 bus: for the passenger transport between passenger terminal and the ship

5 trailer/stapler: for the container transport between the train and the ship
</code></pre>

<h3 id="create_a_demand_file">Create a demand file<a class="headerlink" href="#create_a_demand_file" title="Permanent link">#</a></h3>
<p>First, we need some adaptions to the vTypes to add the necessary capacities to load enough containers and persons. Create a file and add the following definitions for the vTypes:</p>
<pre class="codehilite"><code class="language-xml">&lt;vType id=&quot;type_ship&quot; vClass=&quot;ship&quot; containerCapacity=&quot;25&quot; personCapacity=&quot;20&quot;/&gt;
&lt;vType id=&quot;type_train&quot; vClass=&quot;rail&quot; containerCapacity=&quot;15&quot;/&gt;
&lt;vType id=&quot;type_truck_taxi&quot; vClass=&quot;truck&quot; containerCapacity=&quot;1&quot; personCapacity=&quot;1&quot; loadingDuration=&quot;30.0&quot;/&gt;
&lt;vType id=&quot;type_truck&quot; vClass=&quot;truck&quot; containerCapacity=&quot;1&quot; loadingDuration=&quot;30.0&quot;/&gt;
&lt;vType id=&quot;type_car&quot; vClass=&quot;passenger&quot;/&gt;
&lt;vType id=&quot;type_bus_taxi&quot; vClass=&quot;bus&quot; personCapacity=&quot;20&quot;/&gt;
&lt;vType id=&quot;type_passenger&quot; vClass=&quot;pedestrian&quot;/&gt;
</code></pre>

<h4 id="train">Train<a class="headerlink" href="#train" title="Permanent link">#</a></h4>
<p>Add the trip for the train to the port and back.</p>
<pre class="codehilite"><code class="language-xml">&lt;trip id=&quot;train&quot; type=&quot;type_train&quot; depart=&quot;0&quot; departLane=&quot;best&quot; from=&quot;149084838#0&quot; to=&quot;-149084838#0&quot; via=&quot;29497609&quot;&gt;
    &lt;stop containerStop=&quot;containerStop_trainstation&quot; duration=&quot;100&quot;/&gt;
&lt;/trip&gt;
</code></pre>

<h4 id="ships">Ships<a class="headerlink" href="#ships" title="Permanent link">#</a></h4>
<p>There are two possible ways to define a ship. Either by defining the complete route or by using the trip definition:</p>
<pre class="codehilite"><code class="language-xml">&lt;vehicle id=&quot;ferry&quot; depart=&quot;0.00&quot; departPos=&quot;0&quot; line=&quot;ferry&quot; type=&quot;type_ship&quot; color=&quot;0,255,0&quot;&gt;
    &lt;route edges=&quot;-127071510.253116 127071510&quot;/&gt;
    &lt;stop busStop=&quot;busStop_waterway&quot; duration=&quot;100&quot;/&gt;
&lt;/vehicle&gt;

&lt;trip id=&quot;containership&quot; type=&quot;type_ship&quot; depart=&quot;0&quot; departLane=&quot;best&quot; from=&quot;-5005413&quot; to=&quot;5005413.18170&quot; via=&quot;gneE2&quot;&gt;
    &lt;stop containerStop=&quot;containerStop_waterway&quot; duration=&quot;100&quot;/&gt;
&lt;/trip&gt;
</code></pre>

<h4 id="passenger_cars">Passenger Cars<a class="headerlink" href="#passenger_cars" title="Permanent link">#</a></h4>
<p>For the passenger cars we use flow definitions:</p>
<pre class="codehilite"><code class="language-xml">&lt;flow id=&quot;passengercartoship&quot; begin=&quot;0&quot; end=&quot;200&quot; number=&quot;20&quot; type=&quot;type_car&quot; from=&quot;39549605&quot; to=&quot;-128042010&quot; via=&quot;619566331&quot;&gt;
    &lt;stop busStop=&quot;busStop_pier&quot; until=&quot;800.00&quot;/&gt;
&lt;/flow&gt;

&lt;flow id=&quot;passengercarfromship&quot; begin=&quot;730&quot; end=&quot;750&quot; number=&quot;20&quot; type=&quot;type_car&quot; from=&quot;-277007518&quot; to=&quot;39549605&quot; via=&quot;-197841302&quot;/&gt;
</code></pre>

<h4 id="staplers">Staplers<a class="headerlink" href="#staplers" title="Permanent link">#</a></h4>
<p>Because there are no stapler implemented in SUMO, we use trucks equipped with a taxi device. Here, we give them <code>containerCapacity="1"</code> and <code>loadingDuration="30.0"</code> (the taxi device also needs <code>personCapacity="1"</code> because it does not work properly without it at the moment).</p>
<pre class="codehilite"><code class="language-xml">&lt;flow id=&quot;stapler&quot; begin=&quot;0&quot; end=&quot;0&quot; number=&quot;5&quot; type=&quot;type_truck_taxi&quot;&gt;
    &lt;param key=&quot;has.taxi.device&quot; value=&quot;true&quot;/&gt;
    &lt;route edges=&quot;276781727#9&quot;/&gt;
    &lt;stop containerStop=&quot;containerStop_truck_trainstation&quot; duration=&quot;10.00&quot;/&gt;
&lt;/flow&gt;
</code></pre>

<h4 id="containers">Containers<a class="headerlink" href="#containers" title="Permanent link">#</a></h4>
<p>For the containers we use containerFlow definitions:</p>
<pre class="codehilite"><code class="language-xml">&lt;containerFlow id=&quot;containerfromship&quot; begin=&quot;triggered&quot; number=&quot;15&quot; color=&quot;255,0,0&quot;&gt;
   &lt;transport from=&quot;-5005413&quot; containerStop=&quot;containerStop_waterway&quot; lines=&quot;containership&quot;/&gt;
   &lt;tranship containerStop=&quot;containerStop_pier&quot;/&gt;
   &lt;transport containerStop=&quot;containerStop_truck_trainstation&quot; lines=&quot;taxi&quot;/&gt;
   &lt;tranship containerStop=&quot;containerStop_trainstation&quot;/&gt;
   &lt;transport to=&quot;-149084838#0&quot; lines=&quot;train&quot;/&gt;
&lt;/containerFlow&gt;

&lt;containerFlow id=&quot;containertoship&quot; begin=&quot;triggered&quot; number=&quot;15&quot; color=&quot;255,0,255&quot;&gt;
    &lt;transport from=&quot;149084838#0&quot; containerStop=&quot;containerStop_trainstation&quot; lines=&quot;train&quot;/&gt;
    &lt;tranship containerStop=&quot;containerStop_truck_trainstation&quot;/&gt;
    &lt;transport containerStop=&quot;containerStop_pier&quot; lines=&quot;taxi&quot;/&gt;
    &lt;tranship containerStop=&quot;containerStop_waterway&quot;/&gt;
    &lt;transport to=&quot;5005413.18170&quot; lines=&quot;containership&quot;/&gt;
&lt;/containerFlow&gt;
</code></pre>

<h4 id="trucks_and_cars">Trucks and Cars<a class="headerlink" href="#trucks_and_cars" title="Permanent link">#</a></h4>
<p>For the trucks and cars we use flow definitions:</p>
<pre class="codehilite"><code class="language-xml">&lt;flow id=&quot;passengercartoship&quot; begin=&quot;0&quot; end=&quot;200&quot; number=&quot;20&quot; type=&quot;type_car&quot; from=&quot;39549605&quot; to=&quot;-128042010&quot; via=&quot;619566331&quot;&gt;
    &lt;stop busStop=&quot;busStop_pier&quot; until=&quot;800.00&quot;/&gt;
&lt;/flow&gt;
&lt;flow id=&quot;trucktoship&quot; begin=&quot;0&quot; end=&quot;200&quot; number=&quot;20&quot; type=&quot;type_truck&quot; from=&quot;39549605&quot; to=&quot;-277007500#0&quot; via=&quot;619566331&quot;&gt;
    &lt;stop containerStop=&quot;containerStop_pier&quot; until=&quot;970.00&quot;/&gt;
&lt;/flow&gt;
&lt;flow id=&quot;passengercarfromship&quot; begin=&quot;730&quot; end=&quot;750&quot; number=&quot;20&quot; type=&quot;type_car&quot; from=&quot;-277007518&quot; to=&quot;84630550&quot; via=&quot;-197841302&quot;/&gt;
&lt;flow id=&quot;truckfromship&quot; begin=&quot;870&quot; end=&quot;920&quot; number=&quot;20&quot; type=&quot;type_truck&quot; from=&quot;277007496#0&quot; to=&quot;84630550&quot; via=&quot;-197841302&quot;/&gt;
</code></pre>

<h4 id="bus">Bus<a class="headerlink" href="#bus" title="Permanent link">#</a></h4>
<p>Consider the <code>line</code> attribute for the bus.</p>
<pre class="codehilite"><code class="language-xml">&lt;trip id=&quot;bus&quot; type=&quot;type_bus_taxi&quot; depart=&quot;0&quot; departLane=&quot;best&quot; from=&quot;-197841302&quot; via=&quot;-128042010&quot; to=&quot;-197841302&quot; line=&quot;bus&quot;&gt;
    &lt;stop busStop=&quot;busStop_busstation_terminal&quot; until=&quot;300.00&quot;/&gt;
    &lt;stop busStop=&quot;busStop_pier&quot; until=&quot;750.00&quot;/&gt;
    &lt;stop busStop=&quot;busStop_busstation_terminal&quot; until=&quot;900.00&quot;/&gt;
&lt;/trip&gt;
</code></pre>

<h4 id="persons">Persons<a class="headerlink" href="#persons" title="Permanent link">#</a></h4>
<p>For the persons we use flow definitions:</p>
<pre class="codehilite"><code class="language-xml">&lt;personFlow id=&quot;pedestrianfromship&quot; begin=&quot;triggered&quot; number=&quot;20&quot; color=&quot;0,255,0&quot;&gt;
   &lt;ride from=&quot;-127071510.253116&quot; busStop=&quot;busStop_waterway&quot; lines=&quot;ferry&quot;/&gt;
   &lt;walk busStop=&quot;busStop_waterway&quot;/&gt;
   &lt;walk busStop=&quot;busStop_pier&quot;/&gt;
   &lt;ride busStop=&quot;busStop_busstation_terminal&quot; lines=&quot;bus&quot;/&gt;
   &lt;walk busStop=&quot;busStop_passenger_terminal&quot;/&gt;
&lt;/personFlow&gt;

&lt;personFlow id=&quot;pedestriantoship&quot; begin=&quot;0&quot; end=&quot;200&quot; number=&quot;20&quot;&gt;
   &lt;walk from=&quot;-596327078#2&quot; busStop=&quot;busStop_passenger_terminal&quot;/&gt;
   &lt;walk busStop=&quot;busStop_busstation_terminal&quot;/&gt;
   &lt;ride busStop=&quot;busStop_pier&quot; lines=&quot;bus&quot;/&gt;
   &lt;walk busStop=&quot;busStop_waterway&quot;/&gt;
   &lt;ride to=&quot;127071510&quot; lines=&quot;ferry&quot;/&gt;
&lt;/personFlow&gt;
</code></pre>

<h1 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h1>
<p>You can find the Skandinavienkai, Port Lübeck Germany scenario files on <a href="https://github.com/DLR-TS/sumo-scenarios/tree/main/port_tutorials/port_l%C3%BCbeck">Github</a></p>
<p>And two more simple port scenarios are there as well:</p>
<ul>
<li><a href="https://github.com/DLR-TS/sumo-scenarios/tree/main/port_tutorials/port_cologne">Cologne</a> scenario on Github</li>
<li><a href="https://github.com/DLR-TS/sumo-scenarios/tree/main/port_tutorials/port_brunswick">Brunswick</a> scenario on Github</li>
</ul>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 18 March 2024</i></small>
          
          <hr>
            <p>Copyright &copy; 2001-2024 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa-brands fa-x-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa-brands fa-facebook"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa-brands fa-instagram"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }

        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = "..",
            shortcuts = {"edit": 69, "help": 191, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');

          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }
          }

          toggleSwitch.addEventListener('change', switchTheme, false);

          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>