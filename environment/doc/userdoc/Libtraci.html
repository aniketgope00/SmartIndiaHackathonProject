<!--
MkDocs version : 1.5.2
Build Date UTC : 07 May 2024 06:14:12
Last edit: 07 February 2024
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:image" content="images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Libtraci.html">
        <link rel="shortcut icon" href="images/favicon.ico">
        <title>Libtraci - SUMO Documentation</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="js/jquery-3.7.0.min.js" defer></script>
        <script src="js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
            <div class="container-fluid">
                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="index.html" class="nav-link">Documentation</a>
                            </li>
                            <li class="navitem">
                                <a href="Tutorials/index.html" class="nav-link">Tutorials</a>
                            </li>
                            <li class="navitem">
                                <a href="FAQ.html" class="nav-link">FAQ</a>
                            </li>
                            <li class="navitem">
                                <a href="Downloads.html" class="nav-link">Downloads</a>
                            </li>
                            <li class="navitem">
                                <a href="Publications.html" class="nav-link">Publications</a>
                            </li>
                            <li class="navitem">
                                <a href="Developer/index.html" class="nav-link">Developer</a>
                            </li>
                            <li class="navitem">
                                <a href="ChangeLog.html" class="nav-link">ChangeLog</a>
                            </li>
                            <li class="navitem">
                                <a href="https://eclipse.dev/sumo/contact/" class="nav-link">Contact</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa-solid fa-magnifying-glass"></i> <u>S</u>earch
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="edit" href="https://github.com/eclipse-sumo/sumo/edit/main/docs/web/docs/Libtraci.md" class="nav-link"><i class="fa-brands fa-github"></i> <u>E</u>dit on GitHub</a>
                            </li>
                      <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                            More <i class="fa-solid fa-circle-chevron-down"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                            <a class="dropdown-item" href="Editing_Articles.html">Help on editing articles</a>
                            <a class="dropdown-item" href="https://github.com/eclipse/sumo/commits/main/docs/web">Recent documentation changes</a>
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                            <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                            <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                              <input type="checkbox" id="checkbox_theme">
                          </label></span>
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="languagedrop" data-toggle="dropdown">
                            <i class="fa-solid fa-language"></i> Languages <i class="fa-solid fa-circle-chevron-down"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <span class="dropdown-item">
                              Translations are generated automatically by Google Translate:
                            </span>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Libtraci.html?_x_tr_sl=en&_x_tr_tl=de">Deutsch</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Libtraci.html?_x_tr_sl=en&_x_tr_tl=es">Español</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Libtraci.html?_x_tr_sl=en&_x_tr_tl=fr">Français</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Libtraci.html?_x_tr_sl=en&_x_tr_tl=it">Italiano</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Libtraci.html?_x_tr_sl=en&_x_tr_tl=hu">Magyar</a>
                            <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Libtraci.html?_x_tr_sl=en&_x_tr_tl=tr">Türkçe</a>
                          </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="index.html" style="display: inline-block; margin-top: 5px;"><img src="images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa-solid fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#libtraci">Libtraci</a></li>
            <li class="nav-item main"><a href="#limitations">Limitations</a></li>
            <li class="nav-item main"><a href="#building_and_installing_it">Building and Installing it</a></li>
            <li class="nav-item main"><a href="#using_libtraci">Using libtraci</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#python" class="nav-link">• Python</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#c" class="nav-link">• C++</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#example_code_testcpp" class="nav-link">&rarr; Example Code (test.cpp)</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#compiling_on_linux_make_sure_sumo_home_is_set_and_sumo_has_been_built" class="nav-link">&rarr; compiling on Linux (make sure SUMO_HOME is set and sumo has been built)</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#running_on_linux" class="nav-link">&rarr; running on Linux</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#java" class="nav-link">• Java</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#example_code_apitestjava" class="nav-link">&rarr; Example Code (APITest.java)</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#compiling_on_linux" class="nav-link">&rarr; compiling on Linux</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#running_on_linux_1" class="nav-link">&rarr; running on Linux</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#matlab" class="nav-link">• Matlab</a>
                </li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a class="no-arrow-link" href="https://eclipse.dev/sumo">eclipse.dev/sumo</a></p>
    </div>

</div>
                </div>
                <div class="col-md-9 main-area" role="main">
                   <!-- page.is_homepage seems to be broken in Mkdocs > 1.1.0 -->
                  <ul class="breadcrumbs">
    <script>
        var pagePath = "/docs/Libtraci.html";
        var splitUrl = pagePath.split("/");
        splitUrl.pop();
        splitUrl.shift();
        if (splitUrl[0] == 'docs') splitUrl.shift();
        var homeLink = "index.html";
        document.write('<li class="breadcrumb-item"><a href="' + homeLink + '"><i class="fa-solid fa-house"></i></a></li>');
        var prev = '';

        var dirLink = splitUrl.map(function (el) {
        el = prev + el; prev = el + '/'; return el;
        });

        for (let i = 0; i < splitUrl.length; i++) {
            document.write("<li class=\"breadcrumb-item\"><a class=\"no-arrow-link\" href=\"" + dirLink[i] + "\">" + splitUrl[i] + "</a></li>");
        }
    </script>
    <li class="breadcrumb-item active">Libtraci</li>
</ul>
                  <hTitles>Libtraci<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<h1 id="libtraci">Libtraci<a class="headerlink" href="#libtraci" title="Permanent link">#</a></h1>
<p>The main way to interact with a running simulation is
<a href="TraCI.html">TraCI</a> which gives the complete flexibility of doing
cross-platform, cross-language, and networked interaction with
<a href="sumo.html">sumo</a> acting as a server.
To allow coupling with client code, bindings must be provided for each client
language. Historically, this has led to a larger number of client
implementations with varying levels of API completeness and only the python
client was kept up-to-date by the core SUMO development team.</p>
<p>To avoid this problem, Libtraci is provided as a SWIG compatible C++ client
library that is fully compatible with <a href="Libsumo.html">Libsumo</a>. It even uses the
same header files as Libsumo.</p>
<ul>
<li>C++ interface based on static functions and a few simple wrapper
  classes for results which can be linked directly to the client code</li>
<li>Pre-built language bindings for Java and Python (using
  <a href="https://www.swig.org/">SWIG</a>)</li>
<li>Future support for other programming languages via SWIG</li>
</ul>
<p>Unlike Libsumo, Libtraci allows</p>
<ul>
<li>multiple clients</li>
<li>running with <a href="sumo-gui.html">sumo-gui</a></li>
</ul>
<h1 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">#</a></h1>
<p>The following things currently do not work (or work differently than with the TraCI Python client):</p>
<ul>
<li>subscriptions that require additional arguments (except for <em>vehicle.getLeader</em>)</li>
<li>stricter type checking<ul>
<li>the pure Python TraCI client sometimes accepts any iterable object where Libtraci wants a list</li>
<li>pure Python may accept any object where Libtraci needs a boolean value or a string</li>
</ul>
</li>
<li>there is no cleanup / waiting for the started subprocess (sumo)</li>
</ul>
<h1 id="building_and_installing_it">Building and Installing it<a class="headerlink" href="#building_and_installing_it" title="Permanent link">#</a></h1>
<p>The binary windows release already contains the readily compiled libtraci
for C++ and Java. For Python you should prefer the pure Python implementation
anyway (<code>pip install traci</code>) but if you must you can install it via <code>pip install libtraci</code>.
Only if your platform or language is not supported follow the steps below.</p>
<p>If swig and the developer packages for your target language (e.g. Python or Java)
are installed the build should be enabled by default.
For the Python bindings you will get a libtraci.py and a
_libtraci.so (or .pyd on Windows) in SUMO_HOME/tools/libtraci.
For Java the jar and .so (or .dlls) are placed in the bin dir.
Please add the bin or tools dir to your relevant search paths.
If you want to enable the experimental C# support, make sure that
you have <code>ENABLE_CS_BINDINGS</code> set in your cmake configuration.</p>
<h1 id="using_libtraci">Using libtraci<a class="headerlink" href="#using_libtraci" title="Permanent link">#</a></h1>
<h2 id="python">Python<a class="headerlink" href="#python" title="Permanent link">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no advantage in using libtraci instead of the standard python traci
library. The method below is mostly used for testing libtraci.</p>
</div>
<pre class="codehilite"><code class="language-py">import libtraci
libtraci.start([&quot;sumo&quot;, &quot;-c&quot;, &quot;test.sumocfg&quot;])
libtraci.simulationStep()
libtraci.close()
</code></pre>

<p>Existing traci scripts can mostly be reused by calling</p>
<pre class="codehilite"><code class="language-py">import libtraci as traci
</code></pre>

<p>In case you have a lot of scripts you can also set the environment
variable <code>LIBTRACI_AS_TRACI</code> to a non empty value which will trigger the
import as above.</p>
<h2 id="c">C++<a class="headerlink" href="#c" title="Permanent link">#</a></h2>
<h3 id="example_code_testcpp">Example Code (test.cpp)<a class="headerlink" href="#example_code_testcpp" title="Permanent link">#</a></h3>
<p>The example assumes you have the named sumocfg file in your current working directory and the SUMO bin directory included 
in the PATH environmental variable. Otherwise you need to provide the full file path.</p>
<pre class="codehilite"><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;libsumo/libtraci.h&gt;

using namespace libtraci;

int main(int argc, char* argv[]) {
    Simulation::start({&quot;sumo&quot;, &quot;-n&quot;, &quot;net.net.xml&quot;});
    for (int i = 0; i &lt; 5; i++) {
        Simulation::step();
    }
    Simulation::close();
}
</code></pre>

<h3 id="compiling_on_linux_make_sure_sumo_home_is_set_and_sumo_has_been_built">compiling on Linux (make sure SUMO_HOME is set and sumo has been built)<a class="headerlink" href="#compiling_on_linux_make_sure_sumo_home_is_set_and_sumo_has_been_built" title="Permanent link">#</a></h3>
<pre class="codehilite"><code>g++ -o test -std=c++11 -I$SUMO_HOME/src test.cpp -L$SUMO_HOME/bin -ltracicpp
</code></pre>

<h3 id="running_on_linux">running on Linux<a class="headerlink" href="#running_on_linux" title="Permanent link">#</a></h3>
<pre class="codehilite"><code>LD_LIBRARY_PATH=$SUMO_HOME/bin ./test
</code></pre>

<h2 id="java">Java<a class="headerlink" href="#java" title="Permanent link">#</a></h2>
<p>You might want to use the available <a href="Developer/Maven.html">Maven package</a>.</p>
<h3 id="example_code_apitestjava">Example Code (APITest.java)<a class="headerlink" href="#example_code_apitestjava" title="Permanent link">#</a></h3>
<pre class="codehilite"><code class="language-java">import org.eclipse.sumo.libtraci.*;

public class APITest {
    public static void main(String[] args) {
        System.loadLibrary(&quot;libtracijni&quot;);
        Simulation.start(new StringVector(new String[] {&quot;sumo&quot;, &quot;-n&quot;, &quot;net.net.xml&quot;}));
        for (int i = 0; i &lt; 5; i++) {
            Simulation.step();
        }
        Simulation.close();
    }
}
</code></pre>

<p>See also the information on <a href="Libsumo.html#casting_subscription_results">casting subscription results</a>.</p>
<h3 id="compiling_on_linux">compiling on Linux<a class="headerlink" href="#compiling_on_linux" title="Permanent link">#</a></h3>
<p>make sure SUMO_HOME is set and the jar / so / dll files are available</p>
<pre class="codehilite"><code>javac -cp $SUMO_HOME/bin/libtraci-1.8.0-SNAPSHOT.jar APITest.java
</code></pre>

<h3 id="running_on_linux_1">running on Linux<a class="headerlink" href="#running_on_linux_1" title="Permanent link">#</a></h3>
<pre class="codehilite"><code>java -Djava.library.path=$SUMO_HOME/bin -cp $SUMO_HOME/bin/libtraci-1.8.0-SNAPSHOT.jar:. APITest
</code></pre>

<h2 id="matlab">Matlab<a class="headerlink" href="#matlab" title="Permanent link">#</a></h2>
<p>Please install the Python package using <code>pip install traci</code>. You can then use all commands inside your Matlab scripts
just as in Python by adding the <code>py.</code> prefix. (Please note that this is actually not using libtraci but the pure Python TraCI
implementation.)</p>
<pre class="codehilite"><code>py.traci.start([&quot;sumo&quot;, &quot;-c&quot;, &quot;test.sumocfg&quot;])
py.traci.simulationStep()
</code></pre>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 07 February 2024</i></small>
          
          <hr>
            <p>Copyright &copy; 2001-2024 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa-brands fa-x-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa-brands fa-facebook"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa-brands fa-instagram"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }

        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = ".",
            shortcuts = {"edit": 69, "help": 191, "search": 83};
        </script>
        <script src="js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');

          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }
          }

          toggleSwitch.addEventListener('change', switchTheme, false);

          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>